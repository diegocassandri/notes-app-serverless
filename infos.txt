
AKIARPTFX7IRXPWHNOFH
GqjdRjcw1p7fne2p2IZCt4Kdf7UBkyGKvoey1PgN

IAM
dcassandri
AKIARPTFX7IR35I3B256
wQHnB6XdTZAQS3z8hLraZrLnpNdsKxqnLRXYNx9f


serverless config credentials --provider aws --key AKIARPTFX7IRXPWHNOFH --secret  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 --overwrite

Coginito
Notes-app
i4aksl16gc2gr96r9n9etcgbt

Tests

aws cognito-idp sign-up --region us-east-1 --client-id 54dtfojbvi2p6esa82v687fhi6 --username diego.cassandri@gmail.com --password Knoppix886!

aws cognito-idp admin-confirm-sign-up --region us-east-1 --user-pool-id us-east-1_b5gUR8eQF --username diego.cassandri@gmail.com


serverless invoke local --function list --path mocks/list-event.json
serverless invoke local --function get --path mocks/get-event.json
serverless invoke local --function create --path mocks/create-event.json
serverless invoke local --function update --path mocks/update-event.json
serverless invoke local --function delete --path mocks/delete-event.json
serverless invoke local --function billing --path mocks/billing-event.json

Stripe
Publishable key
pk_test_lwWQCcxMhMukMtRNMUr7fNnG00yjJ2zb6A
Secret key
sk_test_9cEBvDRyRrPoZzueSJo5pBg700wjuyB608


ID do grupo de identidades 
us-east-1:f7f37d0c-9c3e-4914-89ed-aef649618d83


npx aws-api-gateway-cli-test \
--username='diego.cassandri@gmail.com' \
--password='Knoppix886!' \
--user-pool-id='us-east-1_b5gUR8eQF' \
--app-client-id='54dtfojbvi2p6esa82v687fhi6' \
--cognito-region='us-east-1' \
--identity-pool-id='us-east-1:f7f37d0c-9c3e-4914-89ed-aef649618d83' \
--invoke-url='https://1q30c1pzdd.execute-api.us-east-1.amazonaws.com/prod' \
--api-gateway-region='us-east-1 \
--path-template='/notes' \
--method='POST' \
--body='{"content":"hello world","attachment":"hello.jpg"}'

Testando chamada com seguran√ßa
npx aws-api-gateway-cli-test --username='diego.cassandri@gmail.com' --password='Knoppix886!' --user-pool-id='us-east-1_b5gUR8eQF' --app-client-id='54dtfojbvi2p6esa82v687fhi6' --cognito-region='us-east-1' --identity-pool-id='us-east-1:f7f37d0c-9c3e-4914-89ed-aef649618d83' --invoke-url='https://1q30c1pzdd.execute-api.us-east-1.amazonaws.com/prod' --api-gateway-region='us-east-1' --path-template='/notes' --method='POST' --body='{"content":"hello world","attachment":"hello.jpg"}'